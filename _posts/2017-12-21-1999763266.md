---
layout: post
title: Neo4j 和图数据库起步
categories:
- Pocket
tags:
---
原文地址：http://mp.weixin.qq.com/s/VGd6agU69Zj4SG_-mX-CTQ

收藏时间：2017-12-21 00:59:00

<div  >
            
                        <div id="img-content" nodeIndex="7">
                
                
                <p class="profile_meta _RIL_KEEPER_CLASS_" nodeIndex="12">
                            <label class="profile_meta_label">微信号</label>
                            <span class="profile_meta_value">linux-cn</span>
                            </p><p class="profile_meta _RIL_KEEPER_CLASS_" nodeIndex="13">
                            <label class="profile_meta_label">功能介绍</label>
                            <span class="profile_meta_value">十万级技术订阅号，依托于『Linux中国』（https://linux.cn/）社区，专注于 Linux 学习、技术研究、开源思想传播。</span>
                            </p>
                
                
                
                
                                                
                                                                
                
                <div class="rich_media_content " id="js_content" nodeIndex="14">
                    

                    

                    
                    
                    <section class="header bm" nodeIndex="122"><div id="RIL_IMG_1" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/1"/></div><section class="summary bm_c" nodeIndex="123">我们将安装 Neo4j 并通过网页客户端在图中插入并查询数据。</section><section class="y bm_c" nodeIndex="124">-- Ruth Holloway</section><br class="clear" nodeIndex="125"></section><p class=" _RIL_KEEPER_CLASS_" nodeIndex="15"><br nodeIndex="126"></p><section nodeIndex="127"><span nodeIndex="128">编译自　|　https://opensource.com/article/17/7/neo4j-graph-databases-getting-started</span> <br nodeIndex="129"><span nodeIndex="130">　作者　|　Ruth Holloway</span><br nodeIndex="131"><span nodeIndex="132">　译者　|　happygeorge01</span></section><section nodeIndex="17"><blockquote nodeIndex="16"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="18">在这个三篇文章系列中的第二篇中，安装 Neo4j 并通过网页客户端来在图中插入和查询数据。</p></blockquote><p class=" _RIL_KEEPER_CLASS_" nodeIndex="19">在本系列的 <span nodeIndex="133"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664609200&idx=2&sn=aa9f8c526be4f6669b5be974ce92e825&chksm=bdce8ef68ab907e00a4b938b6eaf12a92c11d400e13cc7ae31b82791ee3cd64796cf428dd74d&scene=21#wechat_redirect" data-src="https://linux.cn/article-8728-1.html" nodeIndex="134">第一篇</a></span><span class="sup" nodeIndex="135">[1]</span> 中，我们介绍了图数据库中的一些核心概念。在这篇，我们将安装 <span nodeIndex="136">Neo4j</span><span class="sup" nodeIndex="137">[2]</span> 并通过网页客户端在图中插入并查询数据。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="20">可通过 <span nodeIndex="138">他们的网站</span><span class="sup" nodeIndex="139">[3]</span> 下载社区版的 Neo4j！你可以下载 Windows 或 OSX 版来测试，也有各 Linux 发行版对应的版本，还有 Docker 版。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="21">我会在 Debian 9 (stretch) 上安装软件。你可在 <span nodeIndex="140">这里</span><span class="sup" nodeIndex="141">[4]</span> 查看完整说明。如果你正在使用 Debian 8 (jessie) 或更老的版本，你可以安装当前的版本，但会出现的一点小问题是 jessie 中并没有安装 Neo4j 运行所需要的 Java 8 环境。</p><pre class="prettyprint linenums prettyprinted" nodeIndex="22"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="24"><li nodeIndex="23"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="25"><code><span class="kwd">wget</span><span class="pln"> </span><span class="pun">-</span><span class="pun">-</span><span class="pln">Ohttps</span><span class="pun">:</span><span class="com">//debian.neo4j.org/neotechnology.gpg.key | sudo apt-key add - echo 'deb https://debian.neo4j.org/repo stable/' | sudo tee /etc/apt/sources.list.d/neo4j.list sudo apt-get update sudo apt-get install neo4j</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="26">在我的系统中，出于某些原因，我创建好 <code nodeIndex="142">/var/run/neo4j</code> 之后它就可以很轻松地开始了。Neo4j 给了一个“最大打开文件数”的警告，但因为是测试环境所以我不太需要关心这个问题。Neo4j 默认只会监听本机 localhost 上的连接。如果你的机器是 Debian ，那这很好，但是我的不是。我修改了 <code nodeIndex="143">/etc/neo4j/neo4j.conf</code> ，取消注释了下面这行：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="27"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="29"><li nodeIndex="28"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="30"><code><span class="pln">dbms</span><span class="pun">.</span><span class="pln">connectors</span><span class="pun">.</span><span class="pln">default_listen_address</span><span class="pun">=</span><span class="lit">0.0</span><span class="pun">.</span><span class="lit">0.0</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="31">在重启 Neo4j 之后，我可以通过 7474 端口来访问服务器的 Neo4j 服务。默认的用户名和密码是 <code nodeIndex="144">Neo4j</code> 和 <code nodeIndex="145">neo4j</code>； 你需要设置一个新密码，然后会出现初始页面：</p><p class="article_img _RIL_KEEPER_CLASS_" nodeIndex="32"><div id="RIL_IMG_2" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/2"/></div></p><p class="article_img_desc _RIL_KEEPER_CLASS_" nodeIndex="33"><em nodeIndex="146">Installing Neo4J</em></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="34">让我们在 Neo4j 上创建<span nodeIndex="147"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664609200&idx=2&sn=aa9f8c526be4f6669b5be974ce92e825&chksm=bdce8ef68ab907e00a4b938b6eaf12a92c11d400e13cc7ae31b82791ee3cd64796cf428dd74d&scene=21#wechat_redirect" data-src="https://linux.cn/article-8728-1.html" nodeIndex="148">上篇文章</a></span><span class="sup" nodeIndex="149">[1]</span>中使用过的图。如下图：</p><p class="article_img _RIL_KEEPER_CLASS_" nodeIndex="35"><div id="RIL_IMG_3" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/3"/></div></p><p class="article_img_desc _RIL_KEEPER_CLASS_" nodeIndex="36"><em nodeIndex="150">Graph database image 2, defining a new type of node</em></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="37">类似 MySQL 和其它的数据库系统，Neo4j 的各类操作也使用一套查询语句。Cypher，就是 Neo4j 使用的查询语句，但有一些语法区别需要去学习和注意。<ruby nodeIndex="151">节点<rt nodeIndex="152">node</rt></ruby>需要用圆括号表示，而<ruby nodeIndex="153">关系<rt nodeIndex="154">relationship</rt></ruby> 需要放在方括号中。因为这是系统中唯二的数据类型，所以了解这些就够了。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="38">首先，我们创建所有的节点。你需要将下面内容复制黏贴到浏览器顶部区域中，在那里运行查询语句。</p><pre class="prettyprint linenums prettyprinted" nodeIndex="39"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="41"><li nodeIndex="40"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="42"><code><span class="pln">CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Jane Doe'</span><span class="pun">,</span><span class="pln"> favorite_color</span><span class="pun">:</span><span class="pln"> </span><span class="str">'purple'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">b</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'John Doe'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">c</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Mary Smith'</span><span class="pun">,</span><span class="pln"> favorite_color</span><span class="pun">:</span><span class="pln"> </span><span class="str">'red'</span><span class="pun">,</span><span class="pln"> dob</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1992-11-09'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">d</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Robert Roe'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">e</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Rhonda Roe'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">f</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Ryan Roe'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">t</span><span class="pun">:</span><span class="typ">City</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Petaluma, CA'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">u</span><span class="pun">:</span><span class="typ">City</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Cypress, TX'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">v</span><span class="pun">:</span><span class="typ">City</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Grand Prairie, TX'</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="kwd">w</span><span class="pun">:</span><span class="typ">City</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Houston, TX'</span><span class="pln"> </span><span class="pun">})</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="43">注意，在标签前的字符就是变量。这些信息会在出现在各个地方，但我们在这里并不会用到。但你不能不指定相应信息就盲目创建，所以我们使用它们然后就忽略它们。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="44">在上面一共创建了 10 个节点和 13 个属性。想查看它们？ 通过下面语句来匹配查询所有节点：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="45"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="47"><li nodeIndex="46"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="48"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> RETURN n</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="49">这条语句会返回一个可视化的图。（在应用内，你可以在返回的图中使用”全屏”按钮来查看大图)。你将会看到类似下面的图像：</p><p class="article_img _RIL_KEEPER_CLASS_" nodeIndex="50"><div id="RIL_IMG_4" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/4"/></div></p><p class="article_img_desc _RIL_KEEPER_CLASS_" nodeIndex="51"><em nodeIndex="155">Visual graph</em></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="52">添加关系需要一点技巧；你需要连接的节点必须是 “<ruby nodeIndex="156">在限定范围内的<rt nodeIndex="157">in scope</rt></ruby>”，意思连接的节点是在当前查询语句所限定的范围内的。我们之前使用的查询语句范围太大，所以让我们找到 John 和 Jane 并让他们结婚：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="53"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="55"><li nodeIndex="54"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="56"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">a</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">b</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">)</span><span class="pln"> WHERE a</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Jane Doe'</span><span class="pln"> AND b</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'John Doe'</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">r</span><span class="pun">:</span><span class="pln">MARRIAGE </span><span class="pun">{</span><span class="kwd">date</span><span class="pun">:</span><span class="pln"> </span><span class="str">'2017-03-04'</span><span class="pun">,</span><span class="pln"> place</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Houston, TX'</span><span class="pun">}]->(</span><span class="pln">b</span><span class="pun">)</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="57">这条语句会创建一个关系并设置两个属性。重新运行该 <code nodeIndex="158">MATCH</code> 语句会显示那个关系。你可以通过鼠标点击任意的节点或关系来查看它们的属性。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="58">我们来添加其它的关系。比起使用一些列的 <code nodeIndex="159">MATCH</code> 语句，我会一次性做完并从中 <code nodeIndex="160">CREATE</code>创建多个关系。</p><pre class="prettyprint linenums prettyprinted" nodeIndex="59"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="61"><li nodeIndex="60"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="62"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">a</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">b</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">c</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">d</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">e</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">f</span><span class="pun">:</span><span class="typ">Person</span><span class="pun">),(</span><span class="pln">t</span><span class="pun">:</span><span class="typ">City</span><span class="pun">),(</span><span class="pln">u</span><span class="pun">:</span><span class="typ">City</span><span class="pun">),(</span><span class="pln">v</span><span class="pun">:</span><span class="typ">City</span><span class="pun">),(</span><span class="kwd">w</span><span class="pun">:</span><span class="typ">City</span><span class="pun">)</span><span class="pln"> WHERE a</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Jane Doe'</span><span class="pln"> AND b</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'John Doe'</span><span class="pln"> AND c</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Mary Smith'</span><span class="pln"> AND d</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Robert Roe'</span><span class="pln"> AND e</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Rhonda Roe'</span><span class="pln"> AND f</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Ryan Roe'</span><span class="pln"> AND t</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Petaluma, CA'</span><span class="pln"> AND u</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Cypress, TX'</span><span class="pln"> AND v</span><span class="pun">.</span><span class="pln">name</span><span class="pun">=</span><span class="str">'Grand Prairie, TX'</span><span class="pln"> AND </span><span class="pun">.</span><span class="pln">wname</span><span class="pun">=</span><span class="str">'Houston, TX'</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">d</span><span class="pun">)-[</span><span class="pln">m2</span><span class="pun">:</span><span class="pln">MARRIAGE </span><span class="pun">{</span><span class="kwd">date</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1990-12-01'</span><span class="pun">,</span><span class="pln"> place</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Chicago, IL'</span><span class="pun">}]->(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">n</span><span class="pun">:</span><span class="pln">CHILD</span><span class="pun">]->(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">d</span><span class="pun">)-[</span><span class="pln">n2</span><span class="pun">:</span><span class="pln">CHILD</span><span class="pun">]->(</span><span class="pln">f</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)-[</span><span class="pln">n3</span><span class="pun">:</span><span class="pln">CHILD</span><span class="pun">]->(</span><span class="pln">f</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">b</span><span class="pun">)-[</span><span class="pln">n4</span><span class="pun">:</span><span class="pln">STEPCHILD</span><span class="pun">]->(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">o</span><span class="pun">:</span><span class="pln">BORN_IN</span><span class="pun">]->(</span><span class="pln">v</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">b</span><span class="pun">)-[</span><span class="pln">o2</span><span class="pun">:</span><span class="pln">BORN_IN</span><span class="pun">]->(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">c</span><span class="pun">)-[</span><span class="pln">p</span><span class="pun">:</span><span class="pln">DATING</span><span class="pun">]->(</span><span class="pln">f</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">q</span><span class="pun">:</span><span class="pln">LIVES_IN</span><span class="pun">]->(</span><span class="pln">u</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">b</span><span class="pun">)-[</span><span class="pln">q1</span><span class="pun">:</span><span class="pln">LIVES_IN</span><span class="pun">]->(</span><span class="pln">u</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">r</span><span class="pun">:</span><span class="pln">WORKS_IN</span><span class="pun">]->(</span><span class="kwd">w</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">s</span><span class="pun">:</span><span class="pln">FRIEND</span><span class="pun">]->(</span><span class="pln">d</span><span class="pun">)</span><span class="pln"> CREATE </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">s2</span><span class="pun">:</span><span class="pln">FRIEND</span><span class="pun">]->(</span><span class="pln">e</span><span class="pun">)</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="63">重新运行该 <code nodeIndex="161">MATCH</code> 语句，你将会看到下面图像：</p><p class="article_img _RIL_KEEPER_CLASS_" nodeIndex="64"><div id="RIL_IMG_5" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/5"/></div></p><p class="article_img_desc _RIL_KEEPER_CLASS_" nodeIndex="65"><em nodeIndex="162">Graph after re-querying with MATCH</em></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="66">如果你喜欢，你可以将节点拖拉成像我之前画的图的样子。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="67">在这个例子中，我们唯一使用的 <code nodeIndex="163">MATCH</code> 就是 <code nodeIndex="164">MATCH</code> 所有的东西。下面这个查询会返回两个结婚了的夫妻并显示他们之间的关系：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="68"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="70"><li nodeIndex="69"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="71"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">a</span><span class="pun">)-[</span><span class="pln">b</span><span class="pun">:</span><span class="pln">MARRIAGE</span><span class="pun">]->(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> RETURN a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">,</span><span class="pln">c</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="72">在一个更复杂的图中，你可以做更多的细节查询。（LCTT 译注：此例子为 Neo4j 自带例子的）例如，你有关于电影和人的节点，还有像 <code nodeIndex="165">ACTED IN</code>、<code nodeIndex="166">DIRECTED</code>、<code nodeIndex="167">WROTE SCREENPLAY</code> 等属性的关系，你可以运行下面这个查询：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="73"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="75"><li nodeIndex="74"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="76"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">p</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Mel Gibson'</span><span class="pln"> </span><span class="pun">})--(</span><span class="pln">m</span><span class="pun">:</span><span class="typ">Movie</span><span class="pun">)</span><span class="pln"> RETURN m</span><span class="pun">.</span><span class="pln">title</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="77">……上述是查询和 Mel Gibson 相关的所有影片。但如果你想查询他演过的所有电影，下面这条语句会更有用：</p><pre class="prettyprint linenums prettyprinted" nodeIndex="78"><ol class="linenums list-paddingleft-2 _RIL_KEEPER_CLASS_" nodeIndex="80"><li nodeIndex="79"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="81"><code><span class="pln">MATCH </span><span class="pun">(</span><span class="pln">p</span><span class="pun">:</span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Mel Gibson'</span><span class="pln"> </span><span class="pun">})-[</span><span class="pln">r</span><span class="pun">:</span><span class="pln">ACTED_IN</span><span class="pun">]->(</span><span class="pun">:</span><span class="pln">mmovie</span><span class="pun">)</span><span class="pln"> RETURN m</span><span class="pun">.</span><span class="pln">title</span><span class="pun">,</span><span class="pun">.</span><span class="pln">rrole</span></code></p></li></ol></pre><p class=" _RIL_KEEPER_CLASS_" nodeIndex="82">还有更多更炫酷的 Cypher 语句可以使用，但我们就简单介绍这些。更详细完整的 Cypher 语句可以在 Neo4j 的<span nodeIndex="168">官网</span><span class="sup" nodeIndex="169">[5]</span>上查看, 并且也有很多例子可以练习。</p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="83">在此系列的下篇文章中，我们会通过写些 Perl 脚本来展示如何在应用中使用图数据库。</p><hr nodeIndex="170"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="84">via: <span nodeIndex="171">https://opensource.com/article/17/7/neo4j-graph-databases-getting-started</span></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="85">作者：<span nodeIndex="172">Ruth Holloway</span><span class="sup" nodeIndex="173">[7]</span> 译者：<span nodeIndex="174">happygeorge01</span> 校对：<span nodeIndex="175">wxy</span></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="86">本文由 <span nodeIndex="176">LCTT</span> 原创编译，<span nodeIndex="177">Linux中国</span> 荣誉推出</p></section><section class="bm" nodeIndex="178"><section class="bm_h cl" nodeIndex="179">LCTT 译者</section><section class="bm_c" nodeIndex="180"><section nodeIndex="181"><div id="RIL_IMG_6" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/6"/></div><section nodeIndex="182"><section nodeIndex="183">happygeorge01 🌟</section><section class="addfiles" nodeIndex="184">共计翻译：<span class="num" nodeIndex="185">1</span> 篇</section><section nodeIndex="186">贡献时间：1 天</section></section><br class="clear" nodeIndex="187"></section></section></section><section class="bm" nodeIndex="188"><section class="bm_h" nodeIndex="88"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="87">推荐文章</p></section><section class="bm_h" nodeIndex="90"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="89">< 左右滑动查看相关文章 ></p></section><section class="inner_menu x-scroll" nodeIndex="189"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=400321255&idx=2&sn=f21dd93ae0b41b47c17b585593a00878&scene=21#wechat_redirect" nodeIndex="190"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=400085610&idx=1&sn=333d6f698b8463b0199beb36f1de949a&scene=21#wechat_redirect" nodeIndex="191"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=209300719&idx=2&sn=840df8b289b351dbf90d312eadb399e9&scene=21#wechat_redirect" nodeIndex="192"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=204337369&idx=1&sn=0b9313b838a7fdadb8f99ee506fc0101&scene=21#wechat_redirect" nodeIndex="193"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664608504&idx=1&sn=172777634ddad730eadeedb3d4ac610b&chksm=bdce89be8ab900a8126919d0e9033f4c6810e619c47ee827d44bf6a4ebbe5c68083577304288&scene=21#wechat_redirect" nodeIndex="194"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664608586&idx=3&sn=11b6ecfdaa33756c8fca8f328a9975ab&chksm=bdce880c8ab9011a6c6a9b3338dc627d14a27555ff228ad9479438abfae8af626ced051bc73d&scene=21#wechat_redirect" nodeIndex="195"><div id="RIL_IMG_7" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/7"/></div></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664608772&idx=1&sn=3ed73319c9d7e443a8b38d2e60278eab&chksm=bdce8f428ab90654223d1855661ebbfe09a11baaa54157bb436b8f53925b011e2a685b6dbe8f&scene=21#wechat_redirect" nodeIndex="196"></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664608796&idx=1&sn=ac4cbd7ad2e881e8ca9fd2b799ba759f&chksm=bdce8f5a8ab9064c537f69054b03ce0fb8b0e3f7bb2913eff879baa60da0fcb7659e6085e72b&scene=21#wechat_redirect" nodeIndex="197"></a><a href="http://mp.weixin.qq.com/s?__biz=MzI1NDQwNDYyMg==&mid=2247484332&idx=1&sn=dafd25fe8012dd44952ca74ae5a7d1df&chksm=e9c4f2cddeb37bdb24c0fa775ae41274217d6bbfb64442266b6121a82aa0980eccc4b327eb8f&scene=21#wechat_redirect" nodeIndex="198"><div id="RIL_IMG_8" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/8"/></div></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=2664609200&idx=2&sn=aa9f8c526be4f6669b5be974ce92e825&chksm=bdce8ef68ab907e00a4b938b6eaf12a92c11d400e13cc7ae31b82791ee3cd64796cf428dd74d&scene=21#wechat_redirect" nodeIndex="199"><div id="RIL_IMG_9" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/9"/></div></a><div id="RIL_IMG_10" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/10"/></div><div id="RIL_IMG_11" class="RIL_IMG"><img src="/media/posts_images/2017-12-21-1999763266/11"/></div></section><section class="bm_h" nodeIndex="92"><p class=" _RIL_KEEPER_CLASS_" nodeIndex="91">点击图片、输入文章 ID 或识别二维码直达</p></section></section><nav class="bm" nodeIndex="121"><section class="bm_h" nodeIndex="200">原文链接</section><section class="bm_c" nodeIndex="201">请访问“<span nodeIndex="202">原文链接</span>”获得可点击的文内链接、全尺寸原图和相关文章。</section></nav><p class=" _RIL_KEEPER_CLASS_" nodeIndex="93"><br nodeIndex="203"></p><p class=" _RIL_KEEPER_CLASS_" nodeIndex="94"><br nodeIndex="204"></p>
                </div>
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" nodeIndex="95"></div>

                
                                <p class=" _RIL_KEEPER_CLASS_" nodeIndex="97">
                        <a class="reward_access" id="js_reward_link" href="">赞赏</a>
                    </p><p class="tips_global reward_user_tips _RIL_KEEPER_CLASS_" nodeIndex="99"><a href="" id="js_reward_total"></a>人赞赏</p>
                                <p class="tips_global _RIL_KEEPER_CLASS_" nodeIndex="102">长按二维码向我转账</p><p class="reward_tips _RIL_KEEPER_CLASS_" nodeIndex="103"></p><p class="tips_global _RIL_KEEPER_CLASS_" nodeIndex="104">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                                            </div>
                        
                        


                    </div>